# KnowHow 法律新媒体平台 - 项目结构说明

## 📁 项目目录结构

```
法律新媒体/
├── index.html                 # 主页面入口
├── app.js                    # 主应用逻辑（核心功能）
├── styles.css                # 样式文件
├── README.md                 # 项目说明
├── data/                     # 数据存储相关
│   ├── data-manager.js       # 数据存储管理器
│   └── chat-data/            # 聊天数据存储
│       └── chat-storage.js   # 聊天存储系统
├── tests/                    # 测试文件（按时间顺序）
│   ├── 登录测试.html
│   ├── 登录跳转测试.html
│   ├── 个人资料功能测试.html
│   ├── 个人资料同步测试.html
│   ├── 个人资料修复测试.html
│   ├── 个人资料最终修复测试.html
│   ├── 个人资料集成测试.html
│   ├── 功能完善测试.html
│   ├── 数据持久化测试.html
│   ├── 权限管理测试.html
│   ├── 角色权限测试.html
│   ├── 管理员权限测试.html
│   ├── 超级管理员权限测试.html
│   ├── 律师端测试.html
│   ├── 律师端集成测试.html
│   ├── 律师端功能演示.html
│   ├── 律师注册功能测试.html
│   ├── 律师注册演示.html
│   ├── 律师选项测试.html
│   ├── 律师标签测试.html
│   ├── 律师案件管理测试.html
│   ├── 律师数据分析功能测试.html
│   ├── 案件数量统计测试.html
│   ├── 法律互动功能测试.html
│   ├── 法律互动演示.html
│   ├── 状态更新表单测试.html
│   ├── 通知系统测试.html
│   ├── 通知修复测试.html
│   ├── 通知调试.html
│   ├── 好友管理删除验证.html
│   ├── 好友聊天功能测试.html
│   ├── 用户端好友聊天测试.html
│   ├── 私信功能测试.html
│   ├── 管理员用户管理操作指南.html
│   ├── 交流中心新设计测试.html
│   └── 颜色协调性测试.html
└── docs/                     # 文档文件
    ├── 项目结构说明.md
    ├── 项目详细说明.md
    ├── 好友管理删除说明.md
    ├── 好友聊天功能说明.md
    ├── 律师数据分析功能说明.md
    └── 状态更新表单功能说明.md
```

## 🎯 核心文件说明

### 主要文件
- **`index.html`** - 项目入口页面，包含HTML结构和基础布局
- **`app.js`** - 核心应用逻辑，包含所有功能模块（7425行）
- **`styles.css`** - 样式文件，包含所有CSS样式和响应式设计（8700+行）

### 数据管理
- **`data/data-manager.js`** - 统一数据存储管理器
  - 提供统一的数据读写接口
  - 支持数据导入导出
  - 数据清理和备份功能
  - 存储使用情况统计

- **`data/chat-data/chat-storage.js`** - 聊天数据存储系统
  - 好友管理
  - 聊天会话管理
  - 消息存储
  - 通知系统

## 📊 数据存储结构

### 用户数据
- `ln_users_v1` - 用户基本信息
- `ln_auth_v1` - 用户认证信息
- `currentUser` - 当前登录用户

### 聊天数据
- `knowhow_chat_data` - 主聊天数据
- `chat_sessions` - 聊天会话
- `chat_messages` - 聊天消息
- `user_friends` - 用户好友关系
- `user_notifications` - 用户通知

### 内容数据
- `ln_forum_posts_v1` - 论坛帖子
- `ln_community_feed_v1` - 社区动态
- `ln_qa_items_v1` - 问答内容
- `ln_law_updates_v1` - 法律更新
- `ln_lawyers_v1` - 律师信息
- `ln_films_v1` - 影视内容
- `ln_news_v1` - 新闻内容

### 律师数据
- `lawyer_applications` - 律师申请
- `legal_cases` - 法律案件
- `legal_consultations` - 法律咨询
- `legal_messages` - 法律消息
- `lawyer_clients` - 律师客户

## 🧪 测试文件分类

### 按功能分类
1. **认证测试** - 登录、权限管理
2. **用户管理测试** - 个人资料、用户管理
3. **律师功能测试** - 律师端、案件管理、数据分析
4. **聊天功能测试** - 私信、好友管理、通知系统
5. **内容管理测试** - 论坛、新闻、法律更新
6. **界面测试** - 颜色协调性、响应式设计

### 按时间顺序
测试文件按创建时间顺序排列，便于追踪开发历程和功能演进。

## 🔧 开发建议

### 数据管理
- 使用 `dataManager` 统一管理所有数据操作
- 定期清理过期数据
- 重要数据及时备份

### 测试开发
- 新功能开发时创建对应的测试文件
- 测试文件命名规范：`功能名称测试.html`
- 测试文件放在 `tests/` 目录下

### 文档维护
- 功能说明文档放在 `docs/` 目录下
- 及时更新项目结构说明
- 保持文档与代码同步

## 📱 部署说明

### 本地部署
1. 直接打开 `index.html` 文件
2. 或使用本地服务器（推荐）

### 服务器部署
1. 上传所有文件到服务器
2. 确保文件路径正确
3. 配置服务器支持单页应用

## 🔄 版本管理

### 当前版本
- 主版本：1.0.0
- 数据格式：v1
- 最后更新：2025年1月

### 更新记录
- 项目结构整理
- 数据存储统一管理
- 测试文件分类整理
- 文档结构优化

---

*此文档随项目发展持续更新*
